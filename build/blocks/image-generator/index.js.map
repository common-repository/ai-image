{"version":3,"file":"blocks/image-generator/index.js","mappings":"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","sources":["webpack://ai-image/./src/blocks/image-generator/edit.js","webpack://ai-image/./src/blocks/image-generator/index.js","webpack://ai-image/./src/blocks/image-generator/save.js","webpack://ai-image/./src/blocks/image-generator/editor.scss?ba1a","webpack://ai-image/./src/blocks/image-generator/style.scss?993a","webpack://ai-image/external window [\"wp\",\"apiFetch\"]","webpack://ai-image/external window [\"wp\",\"blockEditor\"]","webpack://ai-image/external window [\"wp\",\"blocks\"]","webpack://ai-image/external window [\"wp\",\"components\"]","webpack://ai-image/external window [\"wp\",\"data\"]","webpack://ai-image/external window [\"wp\",\"element\"]","webpack://ai-image/external window [\"wp\",\"i18n\"]","webpack://ai-image/webpack/bootstrap","webpack://ai-image/webpack/runtime/chunk loaded","webpack://ai-image/webpack/runtime/compat get default export","webpack://ai-image/webpack/runtime/define property getters","webpack://ai-image/webpack/runtime/hasOwnProperty shorthand","webpack://ai-image/webpack/runtime/make namespace object","webpack://ai-image/webpack/runtime/jsonp chunk loading","webpack://ai-image/webpack/before-startup","webpack://ai-image/webpack/startup","webpack://ai-image/webpack/after-startup"],"sourcesContent":["import { __ } from '@wordpress/i18n';\nimport { useState } from '@wordpress/element';\nimport apiFetch from '@wordpress/api-fetch';\nimport { createBlock } from '@wordpress/blocks';\nimport { useSelect, useDispatch } from '@wordpress/data';\nimport {\n\tuseBlockProps,\n\tstore as blockEditorStore,\n} from '@wordpress/block-editor';\nimport {\n\tButton,\n\tPlaceholder,\n\tTextareaControl,\n\tFlex,\n\tFlexBlock,\n\tFlexItem,\n\t__experimentalNumberControl as NumberControl,\n\tSelectControl,\n\tSpinner,\n} from '@wordpress/components';\n\n// editor style\nimport './editor.scss';\n\nexport default function Edit({ attributes, clientId }) {\n\tconst [loadingImages, setLoadingImages] = useState(false);\n\tconst [resultImages, setResultImages] = useState([]);\n\tconst [prompt, setPrompt] = useState();\n\tconst [number, setNumber] = useState(4);\n\tconst [size, setSize] = useState('512x512');\n\tconst { replaceBlock } = useDispatch(blockEditorStore);\n\tconst [errorMessage, setErrorMessage] = useState('');\n\n\n\n\tconst { mediaUpload } = useSelect((select) => {\n\t\tconst { getSettings } = select(blockEditorStore);\n\t\tconst settings = getSettings();\n\t\treturn {\n\t\t\tmediaUpload: settings.mediaUpload,\n\t\t};\n\t}, []);\n\n\tconst handleSubmit = () => {\n\t\tsetLoadingImages(true);\n\t\tapiFetch({\n\t\t\tpath: '/bdthemes/v1/openai/images/generations',\n\t\t\tmethod: 'POST',\n\t\t\tdata: {\n\t\t\t\tprompt,\n\t\t\t\tnumber,\n\t\t\t\tsize,\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetLoadingImages(false);\n\t\t\t\tif (res.error && res.error.message) {\n\t\t\t\t\tsetErrorMessage(res.error.message);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t\tconst images = res.data.map((image) => {\n\t\t\t\t\treturn 'data:image/png;base64,' + image.b64_json;\n\t\t\t\t});\n\t\t\t\tsetResultImages(images);\n\t\t\t})\n\t\t\t.catch((res) => {\n\t\t\t\tif (res.code === 'no_api_key') {\n\t\t\t\t\tsetErrorMessage(\n\t\t\t\t\t\t__(\n\t\t\t\t\t\t\t'Please visit settings and input valid OpenAI token',\n\t\t\t\t\t\t\t'ai-image'\n\t\t\t\t\t\t)\n\t\t\t\t\t);\n\t\t\t\t\tsetLoadingImages(false);\n\t\t\t\t}\n\t\t\t});\n\t};\n\treturn (\n\t\t<div {...useBlockProps()}>\n\t\t\t{!loadingImages && errorMessage && (\n\t\t\t\t<Placeholder\n\t\t\t\t\tstyle={{ display: 'block', width: '100%' }}\n\t\t\t\t\tlabel={__('AI Image', 'ai-image')}\n\t\t\t\t\tnotices={[\n\t\t\t\t\t\t<div style={{ color: 'red' }}>\n\t\t\t\t\t\t\t{errorMessage}\n\t\t\t\t\t\t\t{errorMessage ===\n\t\t\t\t\t\t\t\t'Please visit settings and input valid OpenAI token' && (\n\t\t\t\t\t\t\t\t\t<FlexItem>\n\t\t\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\t\t\thref=\"options-general.php?page=bdthemes-ai-image-options\"\n\t\t\t\t\t\t\t\t\t\t\ttarget=\"_blank\"\n\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t{__(\n\t\t\t\t\t\t\t\t\t\t\t\t'Visit Openai Settings',\n\t\t\t\t\t\t\t\t\t\t\t\t'ai-image'\n\t\t\t\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t\t</FlexItem>\n\t\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</div>,\n\t\t\t\t\t]}\n\t\t\t\t>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"ai-image-form\"\n\t\t\t\t\t\tstyle={{ display: 'block', width: '100%' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t'What would you like to see?',\n\t\t\t\t\t\t\t\t'ai-image'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t\t'Describe the image you would like to see, this is a required field',\n\t\t\t\t\t\t\t\t'ai-image'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={setPrompt}\n\t\t\t\t\t\t\tvalue={prompt}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<NumberControl\n\t\t\t\t\t\t\tlabel={__('Number of images', 'ai-image')}\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t__('Number of Generated Images: ', 'ai-image') +\n\t\t\t\t\t\t\t\tnumber\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={number}\n\t\t\t\t\t\t\tonChange={(value) => setNumber(value)}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tmax={10}\n\t\t\t\t\t\t\tplaceholder=\"4\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={__('Image size', 'ai-image')}\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t__('Generated Images Size: ', 'ai-image') +\n\t\t\t\t\t\t\t\tsize || '512x512'\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={size}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('Large', 'ai-image'),\n\t\t\t\t\t\t\t\t\tvalue: '1024x1024',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('Medium', 'ai-image'),\n\t\t\t\t\t\t\t\t\tvalue: '512x512',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('Small', 'ai-image'),\n\t\t\t\t\t\t\t\t\tvalue: '256x256',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonChange={(newSize) => {\n\t\t\t\t\t\t\t\tsetSize(newSize);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstyle={{ display: 'block', width: '100%' }}\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\tsetErrorMessage('');\n\t\t\t\t\t\t\t\thandleSubmit();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{__('Retry', 'ai-image')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Placeholder>\n\t\t\t)}\n\t\t\t{!errorMessage && !attributes.requestedPrompt && (\n\t\t\t\t<Placeholder label={__('AI Image', 'ai-image')}>\n\t\t\t\t\t<div\n\t\t\t\t\t\tclassName=\"ai-image-form\"\n\t\t\t\t\t\tstyle={{ display: 'block', width: '100%' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<TextareaControl\n\t\t\t\t\t\t\tlabel={__(\n\t\t\t\t\t\t\t\t'What would you like to see?',\n\t\t\t\t\t\t\t\t'ai-image'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\thelp={__(\n\t\t\t\t\t\t\t\t'Describe the image you would like to see',\n\t\t\t\t\t\t\t\t'ai-image'\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t\tonChange={setPrompt}\n\t\t\t\t\t\t\trequired\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<NumberControl\n\t\t\t\t\t\t\tlabel={__('Number of images', 'ai-image')}\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t__('Number of Generated Images: ', 'ai-image') +\n\t\t\t\t\t\t\t\tnumber || 4\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tmax={10}\n\t\t\t\t\t\t\tmin={1}\n\t\t\t\t\t\t\tvalue={number}\n\t\t\t\t\t\t\tonChange={(value) => setNumber(value)}\n\t\t\t\t\t\t\tplaceholder=\"4\"\n\t\t\t\t\t\t\ttype=\"number\"\n\t\t\t\t\t\t/>\n\t\t\t\t\t\t<SelectControl\n\t\t\t\t\t\t\tlabel={__('Image size', 'ai-image')}\n\t\t\t\t\t\t\thelp={\n\t\t\t\t\t\t\t\t__('Generated Image Size: ', 'ai-image') + size\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvalue={size}\n\t\t\t\t\t\t\toptions={[\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('Large', 'ai-image'),\n\t\t\t\t\t\t\t\t\tvalue: '1024x1024',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('Medium', 'ai-image'),\n\t\t\t\t\t\t\t\t\tvalue: '512x512',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tlabel: __('Small', 'ai-image'),\n\t\t\t\t\t\t\t\t\tvalue: '256x256',\n\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t]}\n\t\t\t\t\t\t\tonChange={(newSize) => {\n\t\t\t\t\t\t\t\tsetSize(newSize);\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\tstyle={{ display: 'block', width: '100%' }}\n\t\t\t\t\t\t\tvariant=\"primary\"\n\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\thandleSubmit();\n\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t>\n\t\t\t\t\t\t\t{resultImages.length > 0\n\t\t\t\t\t\t\t\t? __('Regenerate', 'ai-image')\n\t\t\t\t\t\t\t\t: __('Generate', 'ai-image')}\n\t\t\t\t\t\t</Button>\n\t\t\t\t\t</div>\n\t\t\t\t</Placeholder>\n\t\t\t)}\n\t\t\t{!errorMessage && !loadingImages && resultImages.length > 0 && (\n\t\t\t\t<Placeholder label={__('AI Image', 'ai-image')}>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<div>{attributes.requestedPrompt}</div>\n\t\t\t\t\t\t<div style={{ fontSize: '20px', lineHeight: '38px' }}>\n\t\t\t\t\t\t\t{__('Please choose your image', 'ai-image')}\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t<Flex direction=\"row\" justify={'space-between'}>\n\t\t\t\t\t\t\t{resultImages.map((image, index) => (\n\t\t\t\t\t\t\t\t<FlexBlock\n\t\t\t\t\t\t\t\t\tkey={index}\n\t\t\t\t\t\t\t\t\tstyle={{ cursor: 'pointer' }}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t<img\n\t\t\t\t\t\t\t\t\t\trole=\"button\"\n\t\t\t\t\t\t\t\t\t\tclassName=\"wp-block-openai-image\"\n\t\t\t\t\t\t\t\t\t\tsrc={image}\n\t\t\t\t\t\t\t\t\t\talt={attributes.requestedPrompt}\n\t\t\t\t\t\t\t\t\t\tonClick={async () => {\n\t\t\t\t\t\t\t\t\t\t\tif (loadingImages) {\n\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\tsetLoadingImages(true);\n\t\t\t\t\t\t\t\t\t\t\tconst resp = await fetch(image);\n\t\t\t\t\t\t\t\t\t\t\tconst blob = await resp.blob();\n\t\t\t\t\t\t\t\t\t\t\tconst file = new File(\n\t\t\t\t\t\t\t\t\t\t\t\t[blob],\n\t\t\t\t\t\t\t\t\t\t\t\t'openai-image-generator_image.png',\n\t\t\t\t\t\t\t\t\t\t\t\t{ type: 'image/png' }\n\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\tmediaUpload({\n\t\t\t\t\t\t\t\t\t\t\t\tfilesList: [file],\n\t\t\t\t\t\t\t\t\t\t\t\tonFileChange: ([img]) => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (!img.id) {\n\t\t\t\t\t\t\t\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\treplaceBlock(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclientId,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcreateBlock(\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t'core/image',\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\turl: img.url,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcaption:\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tattributes.requestedPrompt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt: attributes.requestedPrompt,\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)\n\t\t\t\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t\tallowedTypes: ['image'],\n\t\t\t\t\t\t\t\t\t\t\t\tonError: () => {\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetLoadingImages(false);\n\t\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</FlexBlock>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</Flex>\n\t\t\t\t\t</div>\n\t\t\t\t</Placeholder>\n\t\t\t)}\n\t\t\t{loadingImages && !errorMessage && (\n\t\t\t\t<Placeholder\n\t\t\t\t\tlabel={__('AI Image is loading please waitâ€¦', 'ai-image')}\n\t\t\t\t>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<Spinner style={{ height: '30px', width: '30px' }} />\n\t\t\t\t\t</div>\n\t\t\t\t</Placeholder>\n\t\t\t)}\n\t\t</div>\n\t);\n}\n","import { registerBlockType } from '@wordpress/blocks';\nimport './style.scss';\n\nimport metadata from './block.json';\n\n/**\n * Internal dependencies\n */\nimport Edit from './edit';\nimport Save from './save';\n\n/**\n * Block Registration\n */\n\nregisterBlockType(metadata, {\n\ticon: {\n\t\tsrc: (\n\t\t\t<svg\n\t\t\t\tenableBackground=\"new 0 0 100 84.8\"\n\t\t\t\tversion=\"1.1\"\n\t\t\t\tviewBox=\"0 0 100 84.8\"\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\n\t\t\t>\n\t\t\t\t<path\n\t\t\t\t\tfill=\"#162B40\"\n\t\t\t\t\td=\"m38.3 36h-13.8l-3 9.8h-3.1l8-25.5c0.6-2.1 1.3-3.6 2.1-4.3 0.7-0.9 1.7-1.1 3.1-1.1 1.3 0 2.3 0.4 3.1 1.1 0.7 0.9 1.4 2.3 2.1 4.3l7.5 25.5h-3.1l-2.9-9.8zm-0.7-2.4-4.1-13.2c-0.3-1-0.6-1.7-0.9-2-0.3-0.4-0.7-0.6-1.1-0.6s-0.9 0.1-1.1 0.6c-0.3 0.4-0.6 1-0.9 2l-4.1 13.2h12.2z\"\n\t\t\t\t/>\n\t\t\t\t<path fill=\"#162B40\" d=\"M49.9,15.4h3.1v30.6h-3.1V15.4z\" />\n\n\t\t\t\t<path d=\"M91.9,84.8H8.3c-4.6,0-8.3-3.7-8.3-8.3V8.3C0,3.7,3.7,0,8.3,0h83.5c4.6,0,8.3,3.7,8.3,8.3v68.3    C100,81.1,96.3,84.8,91.9,84.8z M8.3,5.7c-1.4,0-2.6,1.1-2.6,2.6v68.3c0,1.4,1.1,2.6,2.6,2.6h83.5c1.4,0,2.6-1.1,2.6-2.6V8.3    c0-1.4-1.1-2.6-2.6-2.6H8.3z\" />\n\n\t\t\t\t<path d=\"m93.6 82.2-17.9-18.3c-0.3-0.3-0.6-0.3-0.9-0.1l-15.9 11.2c-2.6 1.8-6 1.6-8.3-0.7l-19.4-19.4c-0.1-0.1-0.4-0.3-0.6-0.1-0.1 0-0.3 0-0.6 0.3l-24.6 25.6-4.1-4 24.9-25.7c1.1-1.3 2.8-2 4.6-2 1.7 0 3.3 0.7 4.6 1.8l19.5 19.3c0.3 0.3 0.6 0.3 0.9 0.1l15.6-11.2c2.6-1.8 6.1-1.6 8.3 0.7l17.9 18.3-4 4.2z\" />\n\n\t\t\t\t<path d=\"m75.2 52.6c-4.7 0-8.5-3.8-8.5-8.5s3.8-8.5 8.5-8.5 8.5 3.8 8.5 8.5-3.8 8.5-8.5 8.5zm0-11.5c-1.6 0-2.8 1.3-2.8 2.8s1.3 2.8 2.8 2.8 2.8-1.3 2.8-2.8-1.2-2.8-2.8-2.8z\" />\n\t\t\t</svg>\n\t\t),\n\t},\n\tedit: Edit,\n\tsave: Save,\n});\n","/**\n * WordPress dependencies\n */\nimport { useBlockProps } from '@wordpress/block-editor';\n\n// Save function\nexport default function save({ attributes }) {\n\tconst { content } = attributes;\n\tconst blockProps = useBlockProps.save();\n\treturn <div {...blockProps}>{content}</div>;\n}\n","// extracted by mini-css-extract-plugin\nexport {};","// extracted by mini-css-extract-plugin\nexport {};","module.exports = window[\"wp\"][\"apiFetch\"];","module.exports = window[\"wp\"][\"blockEditor\"];","module.exports = window[\"wp\"][\"blocks\"];","module.exports = window[\"wp\"][\"components\"];","module.exports = window[\"wp\"][\"data\"];","module.exports = window[\"wp\"][\"element\"];","module.exports = window[\"wp\"][\"i18n\"];","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t\"blocks/image-generator/index\": 0,\n\t\"blocks/image-generator/style-index\": 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = globalThis[\"webpackChunkai_image\"] = globalThis[\"webpackChunkai_image\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [\"blocks/image-generator/style-index\"], () => (__webpack_require__(\"./src/blocks/image-generator/index.js\")))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n",""],"names":["__","useState","apiFetch","createBlock","useSelect","useDispatch","useBlockProps","store","blockEditorStore","Button","Placeholder","TextareaControl","Flex","FlexBlock","FlexItem","__experimentalNumberControl","NumberControl","SelectControl","Spinner","Edit","_ref","attributes","clientId","loadingImages","setLoadingImages","resultImages","setResultImages","prompt","setPrompt","number","setNumber","size","setSize","replaceBlock","errorMessage","setErrorMessage","mediaUpload","select","getSettings","settings","handleSubmit","path","method","data","then","res","error","message","images","map","image","b64_json","catch","code","createElement","style","display","width","label","notices","color","href","target","className","help","onChange","value","required","min","max","placeholder","type","options","newSize","variant","onClick","requestedPrompt","length","fontSize","lineHeight","direction","justify","index","key","cursor","role","src","alt","resp","fetch","blob","file","File","filesList","onFileChange","_ref2","img","id","url","caption","allowedTypes","onError","height","registerBlockType","metadata","Save","icon","enableBackground","version","viewBox","xmlns","fill","d","edit","save","content","blockProps"],"sourceRoot":""}